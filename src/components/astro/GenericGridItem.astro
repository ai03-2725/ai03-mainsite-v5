---
import SimpleImageV2 from '@components/astro/SimpleImageV2.astro'


interface Props {
  title?: string,
  desc?: string,
  href: string,
  src: string,
  tileSize?: "1x1" | "2x2",
}

const {
  title,
  desc,
  href,
  src,
  tileSize
} = Astro.props;

let gridSizeClasses = "col-span-1 row-span-1"
let ratioClass = "aspect-[1.618]"
switch (tileSize) {
  
  case "2x2":
    gridSizeClasses += " 2xl:col-span-2 2xl:row-span-2 min-h-full"
    break

  default:
    break

  }

---

<div class={`${gridSizeClasses} relative w-full overflow-hidden ${ratioClass} rounded-[3.75px] overflow-hidden`}>

  <div class="absolute w-full h-full bg-zinc-800" />

  <div class="absolute w-full h-full">
    <SimpleImageV2 src={src} class="w-full h-full object-cover aspect-square" />
  </div>

  <div class={`
    absolute bottom-0 w-full bg-gradient-to-t from-[#000000a0] !min-h-[33%] 
    p-5 ${tileSize !== "1x1" && "md:p-7"}
  text-white flex flex-col justify-start`}
  >
    <div class="grow" />
    <h2 class={`
      ${tileSize === "1x1" ? "text-2xl font-[500]" : "text-2xl md:text-3xl font-[525]"} 
      pb-0 ${tileSize !== "1x1" && "md:pb-2"}`
    }>
      {title}
    </h2>
    {tileSize !== "1x1" && <p class="hidden md:block">{desc}</p>}
  </div>

  <a href={href} class="absolute w-full h-full" />

</div>